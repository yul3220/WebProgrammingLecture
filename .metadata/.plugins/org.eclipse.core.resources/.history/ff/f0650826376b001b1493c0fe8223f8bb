$("#idbtn").on("click", function(){
		idvalue = $("#id").val().trim();
		
		if(idvalue.length < 1){
			alert("id 입력하세요.");
			return false;
		}
		
		$.ajax({
			//project이름의 member는 context Root
			url : '/member/ID.do',
			type : "post",
			data : {"id": idvalue},
			success : function(res){
				$("#idspan").html(res.sw).css("color", "red");
			},
			error : function(xhr){
				alert("상태 : " +  xhr.status);
			},
			dataType : "json"
		})
	})//idbtn클릭
	
	// 우편번호 검색 - window
	//DOM객체를 window에 올려놓음
	$("#wzipbtn").on("click", function(){
		// 새로운 창 열기
		//우편번호찾기 => 논리적인 이름(화면에 나타나지는 않음, 개발자가 그냥 확인하기 위해 사용)
		//window.open("zipsearch.html", "_self", "width=500 height=400");
		//=>_self를 하면 현재화면의 크기를 맞춰서 현재화면에 html이 열림
		//=>_blank 새로운창이 열림
		window.open("zipsearch.html", "우편번호찾기", "width=500 height=400");
		
	})//wziptbn클릭
	
  	
  	// 우편번호 modal에서 동 입력후 확인버튼 클릭 이벤트
	$("#dongbtn").on("click", function(){
		//입력한값 가져오기
		dongvalue = $("#dong").val().trim();
		
		//서버로 전송(요청)
		$.ajax({
			url : "/member/DongSearch.do",
			data : {"dong" : dongvalue},
			type : "post",
			success : function(res){
				code = "<table border='1' class='table table-bordered'>";
				code += "<tr><td>우편번호</td>";
				code += "<td>주소</td>";
				code += "<td>번지</td></tr>";
				$.each(res, function(i, v){
					code += "<tr class='ziptr'><td>" + v.code + "</td>";
					code += "<td>" + v.addr + "</td>";
					code += "<td>" + v.bunji + "</td></tr>";
				})//each끝
				code += "</table>";
				
				$("#result1").html(code);
			},
			error : function(xhr){
				alert("상태 : " + xhr.status);
				// 200(응답은 성공했으나 응답데이터의 형식이 잘못된 경우 뜨는 에러),
				// 404(name을 잘못작성),403(요청오류)
			},
			dataType : "json"
		})//ajax 끝
	})//button클릭
	
	// modal결과에서 원하는 행(주소)를 선택했을떄 이벤트
	// 동적으로 새롭게 생성된 요소 - delegate	
	//부모는 같이 생긴것보다는 기존에 있던것들로 잡는 것이 좋음
	$("#result1").on("click", ".ziptr", function(){
		//.ziptr에 있는 td의 자식을 선택하게 하고 싶음 => this는 ziptr
		//td속에 있는 값들을 들고오기 위해서는 html(), text()사용 / eq()는 인덱스가 0부터 시작
		zipcode = $("td:eq(0)", this).text();
		addr = $("td:eq(1)", this).text();
		
		// 폼에 출력
		$("#zip").val(zipcode);
		$("#add1").val(addr);
		
		// 모달창 닫기
		$("#myModal").modal('hide');
		
		// 모달창 내용 지우기
		$("#dong").val("");
		$("#result1").empty();
	})
	
	// 제출버튼 클릭 이벤트
  	$("#ff").on("submit", function(){//form의 제출버튼에 해당하는 함수
  		event.preventDefault();
  	  		
  		console.log($("#ff").serialize());
  		console.log($("#ff").serializeArray());
  		console.log($("#ff").serializeJSON());
  		
  		$.ajax({
  			url : "/member/Insert.do",
  			method : "post",
  			data : $("#ff").serializeJSON(),
  			//js의 폴터에 있는 jquery.serializejson.min.js라이브러리를 통해 실행됨
  			success : function(res){
  				$("#submit").html(res.sw).css("color", "blue");
  			},
  			error : function(xhr){
  				alert("상태 : " + xhr.status);
  			},
  			dataType : "json"
  		})
  	})